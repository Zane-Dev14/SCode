{"main_ast": {"type": "module", "children": [{"type": "import_statement", "children": [{"type": "dotted_name", "Text": "subprocess"}]}, {"type": "import_statement", "children": [{"type": "dotted_name", "Text": "os"}]}, {"type": "function_definition", "source": {"file": "/home/zane/Desktop/projects/Clearch/packager.py", "line": 4}, "function_name": "package_executable_to_deb", "param_count": 1, "children": [{"type": "call", "source": {"file": "/home/zane/Desktop/projects/Clearch/packager.py", "line": 6}, "function_call": "os", "is_library": true, "arguments": {"Text": "rust_project_path"}}, {"type": "try_statement", "children": [{"type": "block", "children": [{"type": "call", "source": {"file": "/home/zane/Desktop/projects/Clearch/packager.py", "line": 10}, "function_call": "subprocess", "is_library": true, "arguments": [{"type": "list", "children": [{"type": "string", "Text": "\"cargo\""}, {"type": "string", "Text": "\"build\""}, {"type": "string", "Text": "\"--release\""}]}, {"type": "keyword_argument", "children": [{"type": "identifier", "Text": "check"}, {"type": "true"}]}]}]}, {"type": "except_clause", "children": [{"type": "attribute", "children": [{"type": "identifier", "Text": "subprocess"}, {"type": "identifier", "Text": "CalledProcessError"}]}, {"type": "block", "children": [{"type": "call", "source": {"file": "/home/zane/Desktop/projects/Clearch/packager.py", "line": 12}, "function_call": "print", "is_library": true, "arguments": {"Text": "\"Build failed\""}}, {"type": "return_statement"}]}]}]}, {"type": "try_statement", "children": [{"type": "block", "children": [{"type": "call", "source": {"file": "/home/zane/Desktop/projects/Clearch/packager.py", "line": 17}, "function_call": "subprocess", "is_library": true, "arguments": [{"type": "list", "children": [{"type": "string", "Text": "\"cargo\""}, {"type": "string", "Text": "\"install\""}, {"type": "string", "Text": "\"cargo-deb\""}]}, {"type": "keyword_argument", "children": [{"type": "identifier", "Text": "check"}, {"type": "true"}]}]}]}, {"type": "except_clause", "children": [{"type": "attribute", "children": [{"type": "identifier", "Text": "subprocess"}, {"type": "identifier", "Text": "CalledProcessError"}]}, {"type": "block", "children": [{"type": "call", "source": {"file": "/home/zane/Desktop/projects/Clearch/packager.py", "line": 19}, "function_call": "print", "is_library": true, "arguments": {"Text": "\"cargo-deb installation failed\""}}, {"type": "return_statement"}]}]}]}, {"type": "assignment", "variables": {"output_path": "subprocess.run([\"cargo\", \"deb\"], check=True, capture_output=True)"}, "source": {"file": "/home/zane/Desktop/projects/Clearch/packager.py", "line": 24}, "children": [{"type": "identifier", "Text": "output_path"}, {"type": "call", "source": {"file": "/home/zane/Desktop/projects/Clearch/packager.py", "line": 24}, "function_call": "subprocess", "is_library": true, "arguments": [{"type": "list", "children": [{"type": "string", "Text": "\"cargo\""}, {"type": "string", "Text": "\"deb\""}]}, {"type": "keyword_argument", "children": [{"type": "identifier", "Text": "check"}, {"type": "true"}]}, {"type": "keyword_argument", "children": [{"type": "identifier", "Text": "capture_output"}, {"type": "true"}]}]}]}, {"type": "assignment", "variables": {"deb_file_path": "output_path.stdout.decode().strip().split(\"\\n\")[-1]"}, "source": {"file": "/home/zane/Desktop/projects/Clearch/packager.py", "line": 25}, "children": [{"type": "identifier", "Text": "deb_file_path"}, {"type": "subscript", "children": [{"type": "call", "source": {"file": "/home/zane/Desktop/projects/Clearch/packager.py", "line": 25}, "function_call": "output_path", "is_library": true, "arguments": {"Text": "\"\\n\""}}, {"type": "unary_operator", "children": [{"type": "integer", "Text": "1"}]}]}]}, {"type": "try_statement", "children": [{"type": "block", "children": [{"type": "call", "source": {"file": "/home/zane/Desktop/projects/Clearch/packager.py", "line": 29}, "function_call": "subprocess", "is_library": true, "arguments": [{"type": "list", "children": [{"type": "string", "Text": "\"dpkg-deb\""}, {"type": "string", "Text": "\"-I\""}, {"type": "identifier", "Text": "deb_file_path"}]}, {"type": "keyword_argument", "children": [{"type": "identifier", "Text": "check"}, {"type": "true"}]}]}, {"type": "call", "source": {"file": "/home/zane/Desktop/projects/Clearch/packager.py", "line": 30}, "function_call": "print", "is_library": true, "arguments": {"Text": "\"Verification successful\""}}]}, {"type": "except_clause", "children": [{"type": "attribute", "children": [{"type": "identifier", "Text": "subprocess"}, {"type": "identifier", "Text": "CalledProcessError"}]}, {"type": "block", "children": [{"type": "call", "source": {"file": "/home/zane/Desktop/projects/Clearch/packager.py", "line": 32}, "function_call": "print", "is_library": true, "arguments": {"Text": "\"Verification failed\""}}, {"type": "return_statement"}]}]}]}, {"type": "call", "source": {"file": "/home/zane/Desktop/projects/Clearch/packager.py", "line": 35}, "function_call": "print", "is_library": true, "arguments": [{"type": "string", "Text": "\"Deb file path: \""}, {"type": "identifier", "Text": "deb_file_path"}]}, {"type": "return_statement", "children": [{"type": "identifier", "Text": "deb_file_path"}]}]}, {"type": "if_statement", "children": [{"type": "comparison_operator", "children": [{"type": "identifier", "Text": "__name__"}, {"type": "string", "Text": "\"__main__\""}]}, {"type": "block", "children": [{"type": "call", "source": {"file": "/home/zane/Desktop/projects/Clearch/packager.py", "line": 40}, "function_call": "package_executable_to_deb", "called_function": {"type": "function_definition", "source": {"file": "/home/zane/Desktop/projects/Clearch/packager.py", "line": 4}, "function_name": "package_executable_to_deb", "param_count": 1, "children": [{"type": "call", "source": {"file": "/home/zane/Desktop/projects/Clearch/packager.py", "line": 6}, "function_call": "os", "is_library": true, "arguments": {"Text": "rust_project_path"}}, {"type": "try_statement", "children": [{"type": "block", "children": [{"type": "call", "source": {"file": "/home/zane/Desktop/projects/Clearch/packager.py", "line": 10}, "function_call": "subprocess", "is_library": true, "arguments": [{"type": "list", "children": [{"type": "string", "Text": "\"cargo\""}, {"type": "string", "Text": "\"build\""}, {"type": "string", "Text": "\"--release\""}]}, {"type": "keyword_argument", "children": [{"type": "identifier", "Text": "check"}, {"type": "true"}]}]}]}, {"type": "except_clause", "children": [{"type": "attribute", "children": [{"type": "identifier", "Text": "subprocess"}, {"type": "identifier", "Text": "CalledProcessError"}]}, {"type": "block", "children": [{"type": "call", "source": {"file": "/home/zane/Desktop/projects/Clearch/packager.py", "line": 12}, "function_call": "print", "is_library": true, "arguments": {"Text": "\"Build failed\""}}, {"type": "return_statement"}]}]}]}, {"type": "try_statement", "children": [{"type": "block", "children": [{"type": "call", "source": {"file": "/home/zane/Desktop/projects/Clearch/packager.py", "line": 17}, "function_call": "subprocess", "is_library": true, "arguments": [{"type": "list", "children": [{"type": "string", "Text": "\"cargo\""}, {"type": "string", "Text": "\"install\""}, {"type": "string", "Text": "\"cargo-deb\""}]}, {"type": "keyword_argument", "children": [{"type": "identifier", "Text": "check"}, {"type": "true"}]}]}]}, {"type": "except_clause", "children": [{"type": "attribute", "children": [{"type": "identifier", "Text": "subprocess"}, {"type": "identifier", "Text": "CalledProcessError"}]}, {"type": "block", "children": [{"type": "call", "source": {"file": "/home/zane/Desktop/projects/Clearch/packager.py", "line": 19}, "function_call": "print", "is_library": true, "arguments": {"Text": "\"cargo-deb installation failed\""}}, {"type": "return_statement"}]}]}]}, {"type": "assignment", "variables": {"output_path": "subprocess.run([\"cargo\", \"deb\"], check=True, capture_output=True)"}, "source": {"file": "/home/zane/Desktop/projects/Clearch/packager.py", "line": 24}, "children": [{"type": "identifier", "Text": "output_path"}, {"type": "call", "source": {"file": "/home/zane/Desktop/projects/Clearch/packager.py", "line": 24}, "function_call": "subprocess", "is_library": true, "arguments": [{"type": "list", "children": [{"type": "string", "Text": "\"cargo\""}, {"type": "string", "Text": "\"deb\""}]}, {"type": "keyword_argument", "children": [{"type": "identifier", "Text": "check"}, {"type": "true"}]}, {"type": "keyword_argument", "children": [{"type": "identifier", "Text": "capture_output"}, {"type": "true"}]}]}]}, {"type": "assignment", "variables": {"deb_file_path": "output_path.stdout.decode().strip().split(\"\\n\")[-1]"}, "source": {"file": "/home/zane/Desktop/projects/Clearch/packager.py", "line": 25}, "children": [{"type": "identifier", "Text": "deb_file_path"}, {"type": "subscript", "children": [{"type": "call", "source": {"file": "/home/zane/Desktop/projects/Clearch/packager.py", "line": 25}, "function_call": "output_path", "is_library": true, "arguments": {"Text": "\"\\n\""}}, {"type": "unary_operator", "children": [{"type": "integer", "Text": "1"}]}]}]}, {"type": "try_statement", "children": [{"type": "block", "children": [{"type": "call", "source": {"file": "/home/zane/Desktop/projects/Clearch/packager.py", "line": 29}, "function_call": "subprocess", "is_library": true, "arguments": [{"type": "list", "children": [{"type": "string", "Text": "\"dpkg-deb\""}, {"type": "string", "Text": "\"-I\""}, {"type": "identifier", "Text": "deb_file_path"}]}, {"type": "keyword_argument", "children": [{"type": "identifier", "Text": "check"}, {"type": "true"}]}]}, {"type": "call", "source": {"file": "/home/zane/Desktop/projects/Clearch/packager.py", "line": 30}, "function_call": "print", "is_library": true, "arguments": {"Text": "\"Verification successful\""}}]}, {"type": "except_clause", "children": [{"type": "attribute", "children": [{"type": "identifier", "Text": "subprocess"}, {"type": "identifier", "Text": "CalledProcessError"}]}, {"type": "block", "children": [{"type": "call", "source": {"file": "/home/zane/Desktop/projects/Clearch/packager.py", "line": 32}, "function_call": "print", "is_library": true, "arguments": {"Text": "\"Verification failed\""}}, {"type": "return_statement"}]}]}]}, {"type": "call", "source": {"file": "/home/zane/Desktop/projects/Clearch/packager.py", "line": 35}, "function_call": "print", "is_library": true, "arguments": [{"type": "string", "Text": "\"Deb file path: \""}, {"type": "identifier", "Text": "deb_file_path"}]}, {"type": "return_statement", "children": [{"type": "identifier", "Text": "deb_file_path"}]}], "id": "/home/zane/Desktop/projects/Clearch/packager.py:package_executable_to_deb:1"}, "arguments": [{"type": "attribute", "children": [{"type": "identifier", "Text": "os"}, {"type": "identifier", "Text": "curdir"}]}], "vulnerabilities": ["Potential command injection, code injection, or deserialization vulnerability: package_executable_to_deb"]}]}]}]}, "modules_used": ["os", "subprocess"], "referenced_files": ["/home/zane/Desktop/projects/Clearch/packager.py"]}